webpackJsonp([2,0],[function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var r=a(1),u=n(r),o=a(61),s=n(o),c=a(8),i=n(c),d=a(20),l=n(d),f=a(57),v=n(f),_=a(16),p=n(_);u.default.use(s.default),u.default.use(i.default);var m=[{path:"/products",component:v.default},{path:"/cart",component:p.default}],C=new s.default({mode:"history",routes:m});new u.default({router:C,store:l.default}).$mount("#app")},,,,,,,,,function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=a(1),u=n(r),o=a(8),s=n(o);u.default.use(s.default);var c="http://serenataflowers.com:9092/";e.default={list:function(t){u.default.http.get(c+"cart/list").then(t)},addToCart:function(t,e){u.default.http.post(c+"cart/add/"+t,{}).then(e)},removeFromCart:function(t,e){u.default.http.delete(c+"cart/remove/"+t,t).then(e)},clearCart:function(t){u.default.http.post(c+"cart/clear",{}).then(t)}}},,,,,,,function(t,e,a){a(54);var n=a(7)(a(24),a(59),null,null);t.exports=n.exports},function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=a(1),u=n(r),o=a(8),s=n(o);u.default.use(s.default);var c="http://serenataflowers.com:9092/";e.default={getProducts:function(t){u.default.http.get(c+"products/all").then(t)}}},function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.removeFromCart=e.addToCart=e.clearCart=e.getSavedCart=e.getProducts=void 0;var r=a(17),u=n(r),o=a(9),s=n(o);e.getProducts=function(t){var e=t.commit;u.default.getProducts(function(t){e("RECEIVE_PRODUCTS",t.body)})},e.getSavedCart=function(t){var e=t.commit;s.default.list(function(t){e("RETRIEVE_CART",t.body.contents)})},e.clearCart=function(t){var e=t.commit;s.default.clearCart(),e("CLEAR_CART")},e.addToCart=function(t,e){var a=t.commit;s.default.addToCart(e.id),e.stock>0&&a("ADD_TO_CART",e.id)},e.removeFromCart=function(t,e){var a=t.commit;a("REMOVE_FROM_CART",e)}},function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.total=e.itemsQuantity=e.cartProducts=void 0;var r=a(10),u=n(r),o=e.cartProducts=function(t){return t.cart.contents.map(function(e){var a=e.id,n=e.quantity,r=t.products.all.find(function(t){return t.id===a});return(0,u.default)({},r,{quantity:n})})};e.itemsQuantity=function(t){return o(t).reduce(function(t,e){return t+e.quantity},0)},e.total=function(t){return o(t).reduce(function(t,e){return t+e.price*e.quantity},0)}},function(t,e,a){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var u=a(1),o=r(u),s=a(2),c=r(s),i=a(18),d=n(i),l=a(19),f=n(l),v=a(22),_=r(v),p=a(21),m=r(p);o.default.use(c.default),e.default=new c.default.Store({actions:d,getters:f,modules:{cart:m.default,products:_.default}})},function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=a(9),u=n(r),o={contents:[],total:0},s={CLEAR_CART:function(t){t.contents=[]},RETRIEVE_CART:function(t,e){t.contents=e},ADD_TO_CART:function(t,e){var a=t.contents.find(function(t){return t.id===e});a?a.quantity++:t.contents.push({id:e,quantity:1})},REMOVE_FROM_CART:function(t,e){var a=t.contents.findIndex(function(t){return t.id===e.id});t.contents.splice(a,1),u.default.removeFromCart(e.id)}};e.default={state:o,mutations:s}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={all:[]},n={RECEIVE_PRODUCTS:function(t,e){t.all=e},ADD_TO_CART:function(t,e){var a=t.all.find(function(t){return t.id===e});a.stock--},REMOVE_FROM_CART:function(t,e){var a=t.all.find(function(t){return t.id===e.id});a.stock+=e.quantity}};e.default={state:a,mutations:n}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(2);e.default={props:{product:Object},name:"product-detail-card",methods:(0,n.mapActions)(["addToCart"])}},function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=a(10),u=n(r),o=a(2);e.default={name:"shoppingcart",data:function(){return{}},computed:(0,u.default)({},(0,o.mapGetters)(["cartProducts","total"]),(0,o.mapState)({products:function(t){return t.products.all}})),methods:(0,o.mapActions)(["removeFromCart","clearCart"])}},function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=a(56),u=n(r),o=a(16),s=n(o),c=a(2);e.default={name:"product-list",components:{ProductDetailCard:u.default,ShoppingCart:s.default},data:function(){return{}},computed:(0,c.mapState)({products:function(t){return t.products.all}}),methods:(0,c.mapActions)(["getProducts","getSavedCart"]),created:function(){this.getProducts(),this.getSavedCart()}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e,a){a(55);var n=a(7)(a(23),a(60),"data-v-a28741e0",null);t.exports=n.exports},function(t,e,a){var n=a(7)(a(25),a(58),null,null);t.exports=n.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v("Products")]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-9"},t._l(t.products,function(t){return a("div",{staticClass:"col-md-3"},[a("product-detail-card",{attrs:{product:t,"track-by":"id"}})],1)})),t._v(" "),a("div",{staticClass:"col-md-3"},[a("shopping-cart")],1)])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h3",[t._v("Cart")]),t._v(" "),t._l(t.cartProducts,function(e){return a("div",{staticClass:"media"},[t._m(0,!0),t._v(" "),a("div",{staticClass:"media-body"},[a("span",[a("h4",{staticClass:"media-heading"},[t._v(" "+t._s(e.name)+" \n        "),a("button",{staticClass:"btn btn-xs btn-warning",on:{click:function(a){t.removeFromCart(e)}}},[a("i",{staticClass:"fa fa-close"})])])]),t._v(" "),a("p",[t._v(t._s(e.price)+" - quantity: "+t._s(e.quantity))]),t._v(" "),a("p",[t._v("Description")])])])}),t._v(" "),t.cartProducts.length>0?a("button",{staticClass:"btn btn-xs btn-danger btn-block",on:{click:t.clearCart}},[t._v("Clear all items")]):t._e(),t._v(" "),a("hr"),t._v(" "),a("ul",{staticClass:"list-group"},[a("li",{staticClass:"list-group-item"},[t._v("Total: "+t._s(t.total.toFixed(2)))])])],2)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"media-left"},[a("a",{attrs:{href:"#"}},[a("img",{staticClass:"media-object",attrs:{alt:"64x64",src:"http://placehold.it/64x64"}})])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"item active"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"col-item"},[t._m(0),t._v(" "),a("div",{staticClass:"info"},[a("div",{staticClass:"row"},[a("div",{staticClass:"price col-md-12"},[a("h5",[t._v("\r\n                "+t._s(t.product.name))]),t._v(" "),a("h5",{staticClass:"price-text-color"},[t._v("\r\n                "+t._s(t.product.price))])])]),t._v(" "),a("div",{staticClass:"separator clear-left"},[a("p",{staticClass:"btn-add"},[a("button",{staticClass:"btn btn-success btn-sm",on:{click:function(e){t.addToCart(t.product)}}},[a("i",{staticClass:"fa fa-shopping-cart"}),t._v("\r\n              Add to Cart")])])]),t._v(" "),a("div",{staticClass:"clearfix"})])])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"photo"},[a("img",{staticClass:"img-responsive",attrs:{src:"http://placehold.it/350x260",alt:"a"}})])}]}}]);
//# sourceMappingURL=app.513dfc8741d4cc886688.js.map